DROP TABLE IF EXISTS USERS CASCADE;
DROP TABLE IF EXISTS INCOME_TAX_DEDUCTION CASCADE;

CREATE TABLE USERS (
    USER_NO                  BIGINT GENERATED BY DEFAULT AS IDENTITY,
    CREATED_DATE             TIMESTAMP,
    LAST_MODIFIED_DATE       TIMESTAMP,
    CALCULATED_INCOME_TAX    NUMERIC(17,3),
    NAME                     VARCHAR(255),
    PASSWORD                 VARCHAR(255),
    REG_NO                   VARCHAR(255),
    SCRAP                    BOOLEAN,
    TOTAL_SALARY_AMOUNT      NUMERIC(17,3),
    USER_ID                  VARCHAR(255),
    PRIMARY KEY (USER_NO)
);

CREATE TABLE INCOME_TAX_DEDUCTION (
    INCOME_TAX_DEDUCTION_NO  BIGINT GENERATED BY DEFAULT AS IDENTITY,
    CREATED_DATE             TIMESTAMP,
    LAST_MODIFIED_DATE       TIMESTAMP,
    AMOUNT                   NUMERIC(17,3),
    DEDUCTION_CLASSIFICATION VARCHAR(255),
    USER_NO                  BIGINT,
    PRIMARY KEY (INCOME_TAX_DEDUCTION_NO),
    CONSTRAINT FK_INCOME_TAX_DEDUCTION_TO_USERS FOREIGN KEY (USER_NO) REFERENCES USERS (USER_NO) ON DELETE RESTRICT ON UPDATE RESTRICT
);